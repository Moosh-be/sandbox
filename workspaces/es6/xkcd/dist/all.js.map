{"version":3,"sources":["class/application.es6","class/image.es6","class/list.es6","class/provider.es6"],"names":[],"mappings":";;;;IAAM;AACU,aADV,cACa;AACX,aAAK,eAAe,IAAI,SAAS,+BAA8B;;;yBAFjE;AAKF;mBAAM,kBAAG;;AACL,kBAAE,QAAQ,GAAG,cAAc,YAAI;AAC3B,0BAAK;;;;;;AAIb;mBAAM,iBAAG;AACL,qBAAK;AACL,qBAAK,eAAe,WAAW,QAAQ,EAAE,sBAAsB;AAC/D,qBAAK,aAAa;;;;;AAGtB;mBAAO,kBAAG;AACN,oBAAI,UAAU,KAAK,aAAa,KAAK;AACrC,oBAAI,QAAQ,IAAI,MAAM,QAAQ,YAAY,QAAQ;AAClD,sBAAM,YAAY,KAAK;AACvB,sBAAM,OAAO;;;;;;;WArBf;;;AAyBN,EAAE,YAAW;AACT,WAAO,cAAc,IAAI;AACzB,WAAO,YAAY;;;;;;IC3BjB;AACU,aADV,MACW,OAAM,KAAK;AACpB,aAAK,OAAO,EAAC,OAAO,OAAO,KAAK;AAChC,aAAK,WAAW;;;yBAHlB;AAMF;mBAAO,gBAAC,UAAU;AACd,kBAAE,UAAU,OAAO,KAAK,SAAS,KAAK;;;;;AAG1C;mBAAY,qBAAC,mBAAmB;AAC5B,qBAAK,WAAW;;;;;;;WAXlB;;;;;;ICAA;AACS,aADT,YACW;AACT,aAAK,OAAO;AACZ,aAAK,WAAW;;;yBAHlB;AAKF;mBAAO,iBAAC,UAAS,MAAK;AAClB,oBAAG,CAAC,KAAK,MAAK;AACV,yBAAK,OAAO;;AAEhB,qBAAK,KAAK,YAAU;AACpB,qBAAK,WAAW;;;;;AAEpB;mBAAI,gBAAE;AACF,oBAAG,KAAK,WAAU;AACd,yBAAK;AACL,2BAAO,KAAK;;AAEhB,uBAAO;;;;;AAEX;mBAAQ,oBAAE;AACN,oBAAG,KAAK,eAAc;AAClB,yBAAK;AACL,2BAAO,KAAK;;AAEhB,uBAAO;;;;;AAEX;mBAAW,uBAAE;AACT,oBAAG,KAAK,YAAY,KAAK,KAAK,KAAK,WAAS,IAAG;AAC3C,2BAAO;;AAEX,uBAAO;;;;;AAEX;mBAAO,mBAAE;AACL,oBAAG,KAAK,YAAY,KAAK,KAAK,KAAK,WAAS,IAAG;AAC3C,2BAAO;;AAEX,uBAAO;;;;;AAEX;mBAAO,mBAAE;AACL,oBAAG,KAAK,QAAQ,KAAK,KAAK,KAAK,WAAU;AACrC,2BAAO,KAAK,KAAK,KAAK;;AAE1B,uBAAO;;;;;;;WA1CT;;;;;;ICAA;AACS,aADT,SACU,KAAI,SAAS;AACrB,aAAK,kBAAkB;AACvB,aAAK,MAAM,sCAAoC;AAC/C,aAAK,UAAU,sCAAoC;AACnD,aAAK,OAAO,aAAa,QAAQ,KAAK;AACtC,YAAG,CAAC,KAAK,MAAK;AACV,iBAAK,OAAO,IAAI;;;;yBAPtB;AAWF;mBAAS,qBAAG;;AACR,kBAAE,KAAK,KAAK,KAAK,KAAM,UAAC,MAAM,QAAQ,OAAQ;AAC1C,0BAAK,KAAK,QAAQ,SAAS,KAAK,MAAM;AACtC,wBAAI,IAAI,EAAE,MAAM,eAAc;AAC9B,sBAAE,QAAQ,QAAQ;mBACpB,UAAC,OAAO,QAAQ,aAAc;AAC5B,4BAAQ,MAAM,SAAQ;;;;;;AAI9B;mBAAK,eAAC,IAAI;;AACN,oBAAI,MAAM,KAAK,QAAQ,QAAQ,QAAO;AACtC,kBAAE,KAAK,KAAK,KAAM,UAAC,MAAM,QAAQ,OAAQ;AACrC,0BAAK,KAAK,QAAQ,SAAS,KAAK,MAAM;AACtC,wBAAI,IAAI,EAAE,MAAM,eAAc;AAC9B,sBAAE,QAAQ,QAAQ;mBACpB,UAAC,OAAO,QAAQ,aAAc;AAC5B,4BAAQ,MAAM,SAAQ;;;;;;AAI9B;mBAAI,gBAAG;AACH,6BAAa,QAAQ,KAAK,iBAAgB,KAAK;;;;;;;WAjCjD","file":"all.js","sourcesContent":["class Application {\n    constructor () {\n        this.dataProvider = new Provider('http://xkcd.com/info.0.json','http://xkcd.com/{id}/info.0.json');\n    }\n\n    listen() {\n        $('body').on('dataloaded', ()=>{\n            this.render();\n        });\n    }\n\n    start () {\n        this.listen();\n        this.itemTemplate = Handlebars.compile($('#js-tpl-image-item').html());\n        this.dataProvider.fetchLast();\n    }\n\n    render () {\n        var current = this.dataProvider.list.current();\n        var image = new Image(current.transcript, current.img);\n        image.setTemplate(this.itemTemplate)\n        image.render('.js-image-list');\n    }\n}\n\n$(function (){\n    window.application = new Application();\n    window.application.start();\n});\n","class Image {\n    constructor (title,url) {\n        this.data = {title: title, url: url};\n        this.template = null;\n    }\n\n    render (selector) {\n        $(selector).append(this.template(this.data));\n    }\n\n    setTemplate (handleBarTemplate) {\n        this.template = handleBarTemplate;\n    }\n}","class ArrayList{\n    constructor(){\n        this.list = null;\n        this.position = null;\n    }\n    addItem(position,item){\n        if(!this.list){\n            this.list = [];\n        }\n        this.list[position]=item;\n        this.position = position;\n    }\n    next(){\n        if(this.hasNext()){\n            this.position++;\n            return this.current();\n        }\n        return null;\n    }\n    previous(){\n        if(this.hasPrevious()){\n            this.position--;\n            return this.current();\n        }\n        return null;\n    }\n    hasPrevious(){\n        if(this.position && this.list[this.position-1]){\n            return true;\n        }\n        return false;\n    }\n    hasNext(){\n        if(this.position && this.list[this.position+1]){\n            return true;\n        }\n        return false;\n    }\n    current(){\n        if(this.list && this.list[this.position]){\n            return this.list[this.position];\n        }\n        return null;\n    }\n}","class Provider{\n    constructor(url,urlById) {\n        this.LocalStorageKey = 'xkcdList';\n        this.url = 'https://jsonp.nodejitsu.com/?url='+url;\n        this.urlById = 'https://jsonp.nodejitsu.com/?url='+urlById;\n        this.list = localStorage.getItem(this.LocalStorageKey);\n        if(!this.list){\n            this.list = new ArrayList();\n        }\n    }\n\n    fetchLast() {\n        $.ajax(this.url).then( (data, status, jqXHR)=>{\n            this.list.addItem(parseInt(data.num), data);\n            var e = $.Event('dataloaded.',data);\n            $('body').trigger(e);\n        },(jqXHR, status, errorThrown)=>{\n            console.error('error',errorThrown);\n        });\n    }\n\n    fetch(id) {\n        var url = this.urlById.replace('{id}',id);\n        $.ajax(url).then( (data, status, jqXHR)=>{\n            this.list.addItem(parseInt(data.num), data);\n            var e = $.Event('dataloaded.',data);\n            $('body').trigger(e);\n        },(jqXHR, status, errorThrown)=>{\n            console.error('error',errorThrown);\n        });    \n    }\n\n    save() {\n        localStorage.setItem(this.LocalStorageKey,this.list);\n    }\n}"],"sourceRoot":"/source/"}